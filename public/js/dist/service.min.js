/*
Site Name: AZQuestion
Author: Sang Nguyen
Author URI: http://sangnguyen.info
CreationDate:2014-12-21
Version: 1.0
*/
angular.module("AnswerService",[]).factory("Answer",["$http","$stateParams",function(a,b){return{get:function(){return a.get("api/answer/get/"+b.question_id)},create:function(b){return a.post("/api/answer/create",b)},"delete":function(b){return a["delete"]("/api/answer/detete/"+b)}}}]),angular.module("BadgeService",[]).factory("Badge",["$http",function(a){return{get:function(){return a.get("/api/badge/")},create:function(b){return a.post("/api/badge/create/",b)},"delete":function(b){return a["delete"]("/api/badge/detete/"+b)},edit:function(b){return a.post("/api/badge/edit/",b)}}}]),angular.module("QuestionService",[]).factory("Question",["$http",function(a){return{get:function(){return a.get("/api/question")},create:function(b){return a.post("/api/question/create",b)},"delete":function(b){return a["delete"]("/api/question/detete/"+b)},edit:function(b){return a.post("/api/question/edit",b)},approve:function(b){return a.get("/api/question/approve/"+b)}}}]),angular.module("SystemService",[]).factory("System",["$http",function(a){return{get:function(){return a.get("/api/system")},edit:function(b){return a.post("/api/system/about/edit",b)}}}]),angular.module("TagService",[]).factory("Tag",["$http",function(a){return{get:function(){return a.get("/api/tag/")},create:function(b){return a.post("/api/tag/create",b)},"delete":function(b){return a["delete"]("/api/tag/detete/"+b)},popularTag:function(){return a.get("api/tag/popular-home")},edit:function(b){return a.post("/api/tag/edit",b)}}}]),angular.module("UserService",[]).factory("User",["$http","$stateParams",function(a,b){return{get:function(){return a.get("/api/user")},login:function(b){return a.post("/login",b)},signup:function(b){return a.post("/signup",b)},logout:function(){return a.get("/logout")},countUser:function(){return a.get("api/countUser")},getUserDetail:function(){return a.get("api/user/profile/"+b.id)},"delete":function(b){return a["delete"]("/api/user/delete/"+b)},countQuestion:function(){return a.get("api/user/count/question/"+b.id)},countAnswer:function(){return a.get("api/user/count/answer/"+b.id)},activeAccount:function(){return a.get("api/user/active/"+b.user_id+"/"+b.token)},getUserbyEmail:function(b){return a.post("api/user/getUserbyEmail",b)},edit:function(b){return a.post("/api/user/edit",b)},changePassword:function(b){return a.post("/api/user/changePassword",b)},resetPassword:function(b){return a.post("/api/user/resetPassword",b)},forgot:function(b){return a.post("/forgot",b)},updatePermission:function(b){return a.post("/api/user/updatePermission",b)}}}]).factory("AuthenticationService",function(){var a={isLogged:!1};return a}).factory("TokenInterceptor",["$q","$window","$location","AuthenticationService",function(a,b,c,d){return{request:function(a){return a.headers=a.headers||{},b.sessionStorage.token&&(a.headers.Authorization="Bearer "+b.sessionStorage.token),a},requestError:function(b){return a.reject(b)},response:function(c){return null!==c&&200==c.status&&b.sessionStorage.token&&!d.isAuthenticated&&(d.isAuthenticated=!0),c||a.when(c)},responseError:function(e){return null!==e&&401===e.status&&(b.sessionStorage.token||d.isAuthenticated)&&(delete b.sessionStorage.token,d.isAuthenticated=!1,c.path("/login")),a.reject(e)}}}]);